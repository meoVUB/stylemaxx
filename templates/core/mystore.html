{% extends "base.html" %}
{% load static %}
{% block content %}

<div class="text-center mb-6">
  <h1 class="text-2xl font-semibold mb-2 text-[#272323]">MyStore</h1>
</div>

{% if not has_preferences %}
  <p class="text-[#5B3E3E] text-sm text-center mb-6">
    We don't know your style yet. These are generic picks from our catalog.
    Swipe a few outfits to personalize results.
  </p>
{% else %}
  <p class="text-[#5B3E3E] text-sm text-center mb-6">
    Curated for you based on your swipes.
  </p>
{% endif %}

<!-- Product Grid -->
<div class="grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">
  {% for product in products %}
    <div class="bg-[#C29D9D] rounded-2xl p-4 shadow-lg flex flex-col text-left border border-[#A88D8D]">

      <!-- Product Image -->
      <div class="bg-white rounded-xl overflow-hidden w-full aspect-[3/4]">
        <img
          src="{% static product.static_path %}"
          alt="{{ product.name }}"
          class="w-full h-full object-cover"
        />
      </div>

      <!-- Name + Price -->
      <div class="mt-3 space-y-1 w-full">
        <p class="text-sm text-[#2E1E1E]">
          <span class="font-semibold">{{ product.shop }}</span> {{ product.name }}
        </p>
        <p class="text-sm text-[#2E1E1E]">{{ product.price }} {{ product.currency }}</p>
      </div>

      <!-- Buy Now (Locked to Bottom Left) -->
      <div class="mt-auto pt-3 w-full flex justify-start">
        <a
          href="{{ product.url }}"
          target="_blank"
          class="px-3 py-0.5 rounded-full bg-[#E3BDBD] text-[#2E1E1E] text-xs font-medium shadow hover:bg-[#dcb1b1]"
        >
          Buy Now
        </a>
      </div>

    </div>
  {% empty %}
    <p class="text-[#7D6E6E] text-sm col-span-full text-center">
      No products in the catalog yet.
    </p>
  {% endfor %}
</div>

{% endblock %}
